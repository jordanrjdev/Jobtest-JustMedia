
<div class="container">
<div class="row justify-content-center">
<div class="col-12 col-md-10 col-lg-6">

<div class="card border border-dark">
<div class="card-header text-center fw-bold fs-4">
  <% if local_assigns[:edit] %>
    Edit Product
  <% else %>
    Create Product
  <%end%>
</div>
<div class="card-body">
<%= form_with(model: @product, local: true) do |form| %>
  <div class="row g-3">
  <div class="input-group mb-2">
    <%= form.file_field :image, class:"form-control" %>
    <%= form.label :image, "Image of product", class:"input-group-text" %>
  </div>
  

  <div class="col-md-6">
    <%= form.label :name %>
    <%= form.text_field :name, class:"form-control" %>
    <% @product.errors.full_messages_for(:name).each do |message| %>
      <span class="text-danger fw-bold"><%= message %></span>
    <% end %>
  </div>

  <div class="col-md-6">
    <%= form.label :color %>
    <%= form.text_field :color, class:"form-control" %>
    <% @product.errors.full_messages_for(:color).each do |message| %>
      <span class="text-danger fw-bold"><%= message %></span>
    <% end %>
  </div>

   <div class="col-12">
    <% if @stores.length > 0 %>
      Tiendas
    <% else %>
      No hay tiendas
    <% end %>
      <% @stores.each do |store| %>
        <div class="form-check">
          <%= form.check_box :store_elements, {multiple: true, class: "form-check-input", checked: @product.stores.include?(store)}, store.id, nil %>
          <%= form.label :store_elements, store.name, class:"form-check-label" %>
        </div>
      <% end %> 
    </div>

    <div class="col-12">
      <% @categories.each do |category| %>
        <div class="form-check">
          <%= form.check_box :category_elements, {multiple: true, class: "form-check-input", checked: @product.categories.include?(category)}, category.id, nil %>
          <%= form.label :category_elements, category.name, class:"form-check-label" %>
        </div>
      <% end %> 
    </div>


  <div class="col-md-6">
    <%= form.label :size %>
    <%= form.text_field :size, class:"form-control" %>
    <% @product.errors.full_messages_for(:size).each do |message| %>
      <span class="text-danger fw-bold"><%= message %></span>
    <% end %>
  </div>

  <div class="col-md-6">
    <%= form.label :price %>
    <%= form.text_field :price, class:"form-control" %>
    <% @product.errors.full_messages_for(:price).each do |message| %>
      <span class="text-danger fw-bold"><%= message %></span>
    <% end %>
  </div>

  <div class="form-group"> 
    <%= form.submit class:"mt-3 btn btn-dark d-block mx-auto"%>
  </div>
  </div>
<% end %>
</div>
</div>
</div>
</div>
</div>